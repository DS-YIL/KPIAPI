
<div class="container-fluid">
    <!-- <nb-card> -->
<p-table  [value]="dataList" [paginator]="true" [rows]="10">
    <ng-template pTemplate="caption">
        <div class="ui-helper-clearfix" >
            <div  style="width:59%;height:34px;margin-left:5px;padding-top:0px">
              <span>
                <!-- <button type="button" pButton icon="pi pi-file-excel" iconPos="left" label="EXCEL" (click)="exportExcel()" style="margin-right: 0.5em;" class="ui-button-success"></button> -->
                &nbsp; &nbsp;  &nbsp; &nbsp;   &nbsp; &nbsp;   &nbsp; &nbsp; &nbsp; &nbsp;   &nbsp; &nbsp;   &nbsp; &nbsp; 
                &nbsp; &nbsp;  &nbsp; &nbsp;   &nbsp; &nbsp;   &nbsp; &nbsp; &nbsp; &nbsp;   &nbsp; &nbsp;   &nbsp; &nbsp; 
                <label style="font-size: 15px; color: rgb(96, 123, 212);"> &nbsp;&nbsp; Create/Edit Form - Approvals</label>
                 
               
            </span>
            </div>
          </div>

        <!-- <div class="col-sm-12 col-lg-12 col-md-12" >
            <div class="ui-helper-clearfix col-sm-3 col-lg-3 col-md-3" style="text-align: left;">
                <button type="button" pButton icon="pi pi-file-excel" iconPos="left" label="EXCEL" (click)="exportExcel()" style="margin-right: 0.5em;" class="ui-button-success"></button>
            </div>
            <div class="col-sm-9 col-lg-9 col-md-9">
                <h6 style="text-align: center"> Create/Edit QI Request Status</h6>
            </div>       
        </div> -->

    </ng-template>
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th style="width:50px; text-align: center;background-color: #007ad9;color: #ffffff;">Sl No.</th>
            <!-- <th  style="background-color: #007ad9;color: #ffffff;text-align: center;width: 100px;">
               Department ID
            </th> -->
            <th  style="background-color: #007ad9;color: #ffffff;text-align: center;width: 150px;">
               Department Name
            </th>
            <th  style="background-color: #007ad9;color: #ffffff;text-align: center;width: 100px;">
               Updated By
            </th>
            <th  style="background-color: #007ad9;color: #ffffff;text-align: center;width: 100px;">
                Updated On
             </th>
            <!-- <th  style="background-color: #007ad9;color: #ffffff;text-align: center;width: 100px;">
               BU Status
               </th> -->
            <th  style="background-color: #007ad9;color: #ffffff;text-align: center;width: 150px;">
              Approve/Reject
             </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns" let-ri="rowIndex" let-rindex=0>
        <tr [pEditableRow]="rowData">
            <td style="text-align: center;">
                {{ri+1}}
            </td>
            <!-- <td style="text-align: center;width: 150px;">{{rowData.deptid}}</td> -->
            <!-- <td>{{rowData.deptname}}</td> -->
            <td>
                 <a  [routerLink]="['/KPI/Updatedkpiappform',rowData.updatedqiid]"  routerLinkActive="active">{{rowData.deptname}}</a>
        
            </td>
            <td>{{rowData.empName}}</td>
            
            <td [hidden]=true>{{rowData.employeeNo}}</td>
            <td>{{rowData.enteredon | date :  "dd/MM/yyyy"}}</td>
            <td style="width: 150px;">
                <button  class="btn btn-primary" (click)="Approvekpi(rowData,ri)" mat-raised-button >Approve</button>
                &nbsp;&nbsp;
                <button  class="btn btn-primary" (click)="Rejectkpi(rowData,ri)" mat-raised-button >Reject</button>
                
                   </td>
        </tr>
    </ng-template>
</p-table>
<p-dialog header="Reason for Rejection" [(visible)]="isRejected" [responsive]="true" showEffect="fade" [modal]="true" [style]="{'width':'25%','height':'auto','overflow':'auto!important','margin-right': '0px','margin-left':'0px'}">
 
    <textarea *ngIf="isRejected" [rows]="3" [cols]="25" pInputTextarea autoResize="autoResize" placeholder="Reason for rejection" [(ngModel)]="reason"></textarea>
    <!-- <input type="text" placeholder="Reason for rejection" [(ngModel)]="reason"> -->
    &nbsp;&nbsp;
    <button style="margin-top: 10px;position: absolute;" *ngIf="isRejected" class="btn btn-primary" type="button" (click)="SubmitReason()" mat-raised-button >Submit</button>

</p-dialog>